{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":28},"end":{"line":2,"column":39,"index":67}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"../config/firebaseConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":69},"end":{"line":3,"column":48,"index":117}}],"key":"c2ktbavwtrva9DBC5I1TB1Fz260=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _configFirebaseConfig = require(_dependencyMap[3], \"../config/firebaseConfig\");\n  const API_URL = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  console.log('API Client configured with URL:', API_URL);\n  const client = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  client.interceptors.request.use(async config => {\n    try {\n      const user = _configFirebaseConfig.auth.currentUser;\n      if (user) {\n        // Force refresh to ensure valid token\n        const token = await user.getIdToken();\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Error attaching auth token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  var _default = client;\n});","lineCount":48,"map":[[12,2,35,0,"Object"],[12,8,35,0],[12,9,35,0,"defineProperty"],[12,23,35,0],[12,24,35,0,"exports"],[12,31,35,0],[13,4,35,0,"enumerable"],[13,14,35,0],[14,4,35,0,"get"],[14,7,35,0],[14,18,35,0,"get"],[14,19,35,0],[15,6,35,0],[15,13,35,0,"_default"],[15,21,35,0],[16,4,35,0],[17,2,35,0],[18,2,35,22],[18,6,35,22,"_expoVirtualEnv"],[18,21,35,22],[18,24,35,22,"require"],[18,31,35,22],[18,32,35,22,"_dependencyMap"],[18,46,35,22],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_expoConstants"],[21,20,2,0],[21,23,2,0,"require"],[21,30,2,0],[21,31,2,0,"_dependencyMap"],[21,45,2,0],[22,2,2,0],[22,6,2,0,"Constants"],[22,15,2,0],[22,18,2,0,"_interopDefault"],[22,33,2,0],[22,34,2,0,"_expoConstants"],[22,48,2,0],[23,2,3,0],[23,6,3,0,"_configFirebaseConfig"],[23,27,3,0],[23,30,3,0,"require"],[23,37,3,0],[23,38,3,0,"_dependencyMap"],[23,52,3,0],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,16,"Constants"],[24,27,5,25],[24,28,5,25,"default"],[24,35,5,25],[24,36,5,26,"expoConfig"],[24,46,5,36],[24,48,5,38,"extra"],[24,53,5,43],[24,55,5,45,"backendUrl"],[24,65,5,55],[24,69,5,55,"_expoVirtualEnv"],[24,84,5,55],[24,85,5,55,"env"],[24,88,5,55],[24,89,5,55,"EXPO_PUBLIC_BACKEND_URL"],[24,112,5,94],[24,116,5,98],[24,118,5,100],[25,2,7,0,"console"],[25,9,7,7],[25,10,7,8,"log"],[25,13,7,11],[25,14,7,12],[25,47,7,45],[25,49,7,47,"API_URL"],[25,56,7,54],[25,57,7,55],[26,2,9,0],[26,8,9,6,"client"],[26,14,9,12],[26,17,9,15,"axios"],[26,22,9,20],[26,23,9,20,"default"],[26,30,9,20],[26,31,9,21,"create"],[26,37,9,27],[26,38,9,28],[27,4,10,2,"baseURL"],[27,11,10,9],[27,13,10,11],[27,16,10,14,"API_URL"],[27,23,10,21],[27,29,10,27],[28,4,11,2,"headers"],[28,11,11,9],[28,13,11,11],[29,6,12,4],[29,20,12,18],[29,22,12,20],[30,4,13,2],[31,2,14,0],[31,3,14,1],[31,4,14,2],[32,2,16,0,"client"],[32,8,16,6],[32,9,16,7,"interceptors"],[32,21,16,19],[32,22,16,20,"request"],[32,29,16,27],[32,30,16,28,"use"],[32,33,16,31],[32,34,17,2],[32,40,17,9,"config"],[32,46,17,15],[32,50,17,20],[33,4,18,4],[33,8,18,8],[34,6,19,6],[34,12,19,12,"user"],[34,16,19,16],[34,19,19,19,"auth"],[34,40,19,23],[34,41,19,23,"auth"],[34,45,19,23],[34,46,19,24,"currentUser"],[34,57,19,35],[35,6,20,6],[35,10,20,10,"user"],[35,14,20,14],[35,16,20,16],[36,8,21,8],[37,8,22,8],[37,14,22,14,"token"],[37,19,22,19],[37,22,22,22],[37,28,22,28,"user"],[37,32,22,32],[37,33,22,33,"getIdToken"],[37,43,22,43],[37,44,22,44],[37,45,22,45],[38,8,23,8,"config"],[38,14,23,14],[38,15,23,15,"headers"],[38,22,23,22],[38,23,23,23,"Authorization"],[38,36,23,36],[38,39,23,39],[38,49,23,49,"token"],[38,54,23,54],[38,56,23,56],[39,6,24,6],[40,4,25,4],[40,5,25,5],[40,6,25,6],[40,13,25,13,"error"],[40,18,25,18],[40,20,25,20],[41,6,26,6,"console"],[41,13,26,13],[41,14,26,14,"error"],[41,19,26,19],[41,20,26,20],[41,49,26,49],[41,51,26,51,"error"],[41,56,26,56],[41,57,26,57],[42,4,27,4],[43,4,28,4],[43,11,28,11,"config"],[43,17,28,17],[44,2,29,2],[44,3,29,3],[44,5,30,3,"error"],[44,10,30,8],[44,14,30,13],[45,4,31,4],[45,11,31,11,"Promise"],[45,18,31,18],[45,19,31,19,"reject"],[45,25,31,25],[45,26,31,26,"error"],[45,31,31,31],[45,32,31,32],[46,2,32,2],[46,3,33,0],[46,4,33,1],[47,2,35,0],[47,6,35,0,"_default"],[47,14,35,0],[47,17,35,15,"client"],[47,23,35,21],[48,0,35,22],[48,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECgB;GDY;EEC;GFE"},"hasCjsExports":false},"type":"js/module"}]}