{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":28},"end":{"line":2,"column":39,"index":67}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"../config/firebaseConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":69},"end":{"line":3,"column":48,"index":117}}],"key":"c2ktbavwtrva9DBC5I1TB1Fz260=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _configFirebaseConfig = require(_dependencyMap[2], \"../config/firebaseConfig\");\n  const API_URL = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  console.log('API Client configured with URL:', API_URL);\n  const client = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  client.interceptors.request.use(async config => {\n    try {\n      const user = _configFirebaseConfig.auth.currentUser;\n      if (user) {\n        // Force refresh to ensure valid token\n        const token = await user.getIdToken();\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Error attaching auth token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n  var _default = client;\n});","lineCount":47,"map":[[12,2,35,0,"Object"],[12,8,35,0],[12,9,35,0,"defineProperty"],[12,23,35,0],[12,24,35,0,"exports"],[12,31,35,0],[13,4,35,0,"enumerable"],[13,14,35,0],[14,4,35,0,"get"],[14,7,35,0],[14,18,35,0,"get"],[14,19,35,0],[15,6,35,0],[15,13,35,0,"_default"],[15,21,35,0],[16,4,35,0],[17,2,35,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_expoConstants"],[20,20,2,0],[20,23,2,0,"require"],[20,30,2,0],[20,31,2,0,"_dependencyMap"],[20,45,2,0],[21,2,2,0],[21,6,2,0,"Constants"],[21,15,2,0],[21,18,2,0,"_interopDefault"],[21,33,2,0],[21,34,2,0,"_expoConstants"],[21,48,2,0],[22,2,3,0],[22,6,3,0,"_configFirebaseConfig"],[22,27,3,0],[22,30,3,0,"require"],[22,37,3,0],[22,38,3,0,"_dependencyMap"],[22,52,3,0],[23,2,5,0],[23,8,5,6,"API_URL"],[23,15,5,13],[23,18,5,16,"Constants"],[23,27,5,25],[23,28,5,25,"default"],[23,35,5,25],[23,36,5,26,"expoConfig"],[23,46,5,36],[23,48,5,38,"extra"],[23,53,5,43],[23,55,5,45,"backendUrl"],[23,65,5,55],[23,69,5,59,"process"],[23,76,5,66],[23,77,5,67,"env"],[23,80,5,70],[23,81,5,71,"EXPO_PUBLIC_BACKEND_URL"],[23,104,5,94],[23,108,5,98],[23,110,5,100],[24,2,7,0,"console"],[24,9,7,7],[24,10,7,8,"log"],[24,13,7,11],[24,14,7,12],[24,47,7,45],[24,49,7,47,"API_URL"],[24,56,7,54],[24,57,7,55],[25,2,9,0],[25,8,9,6,"client"],[25,14,9,12],[25,17,9,15,"axios"],[25,22,9,20],[25,23,9,20,"default"],[25,30,9,20],[25,31,9,21,"create"],[25,37,9,27],[25,38,9,28],[26,4,10,2,"baseURL"],[26,11,10,9],[26,13,10,11],[26,16,10,14,"API_URL"],[26,23,10,21],[26,29,10,27],[27,4,11,2,"headers"],[27,11,11,9],[27,13,11,11],[28,6,12,4],[28,20,12,18],[28,22,12,20],[29,4,13,2],[30,2,14,0],[30,3,14,1],[30,4,14,2],[31,2,16,0,"client"],[31,8,16,6],[31,9,16,7,"interceptors"],[31,21,16,19],[31,22,16,20,"request"],[31,29,16,27],[31,30,16,28,"use"],[31,33,16,31],[31,34,17,2],[31,40,17,9,"config"],[31,46,17,15],[31,50,17,20],[32,4,18,4],[32,8,18,8],[33,6,19,6],[33,12,19,12,"user"],[33,16,19,16],[33,19,19,19,"auth"],[33,40,19,23],[33,41,19,23,"auth"],[33,45,19,23],[33,46,19,24,"currentUser"],[33,57,19,35],[34,6,20,6],[34,10,20,10,"user"],[34,14,20,14],[34,16,20,16],[35,8,21,8],[36,8,22,8],[36,14,22,14,"token"],[36,19,22,19],[36,22,22,22],[36,28,22,28,"user"],[36,32,22,32],[36,33,22,33,"getIdToken"],[36,43,22,43],[36,44,22,44],[36,45,22,45],[37,8,23,8,"config"],[37,14,23,14],[37,15,23,15,"headers"],[37,22,23,22],[37,23,23,23,"Authorization"],[37,36,23,36],[37,39,23,39],[37,49,23,49,"token"],[37,54,23,54],[37,56,23,56],[38,6,24,6],[39,4,25,4],[39,5,25,5],[39,6,25,6],[39,13,25,13,"error"],[39,18,25,18],[39,20,25,20],[40,6,26,6,"console"],[40,13,26,13],[40,14,26,14,"error"],[40,19,26,19],[40,20,26,20],[40,49,26,49],[40,51,26,51,"error"],[40,56,26,56],[40,57,26,57],[41,4,27,4],[42,4,28,4],[42,11,28,11,"config"],[42,17,28,17],[43,2,29,2],[43,3,29,3],[43,5,30,3,"error"],[43,10,30,8],[43,14,30,13],[44,4,31,4],[44,11,31,11,"Promise"],[44,18,31,18],[44,19,31,19,"reject"],[44,25,31,25],[44,26,31,26,"error"],[44,31,31,31],[44,32,31,32],[45,2,32,2],[45,3,33,0],[45,4,33,1],[46,2,35,0],[46,6,35,0,"_default"],[46,14,35,0],[46,17,35,15,"client"],[46,23,35,21],[47,0,35,22],[47,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1"],"mappings":"AAA;ECgB;GDY;EEC;GFE"},"hasCjsExports":false},"type":"js/module"}]}